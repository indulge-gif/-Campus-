<view class="container">
  <view class="header">
    <text class="title">中央民族大学</text>
    <text class="subtitle">丰台校区校园导航</text>
  </view>

  <view class="search-bar">
<input 
  placeholder="输入地点名称（如：图书馆）" 
  value="{{searchQuery}}" 
  bindinput="onSearchInput" 
  bindconfirm="onSearchTap"
  bindfocus="onSearchFocus"
  placeholder-class="placeholder-style"
  confirm-type="search"
/>
  <view class="search-button" bindtap="onSearchTap">
    <image src="cloud://cloud1-4gh72aev1c85874d.636c-cloud1-4gh72aev1c85874d-1360566409/img/search.png" class="icon" />
    <text>搜索</text>
    </view>
  </view>

  <view class="search-suggestions" wx:if="{{suggestionsVisible}}">
    <view class="suggestions-header">
      <text class="suggestions-title">搜索结果（{{suggestions.length}}）</text>
      <text class="suggestions-close" bindtap="hideSuggestions">收起</text>
    </view>
    <view
      wx:for="{{suggestions}}"
      wx:key="id"
      class="suggestion-item"
      bindtap="onSuggestionTap"
      data-id="{{item.id}}"
    >
      <text class="suggestion-name">{{item.name}}</text>
      <text class="suggestion-sub" wx:if="{{item.sub}}">{{item.sub}}</text>
    </view>
  </view>
  <view class="map-wrapper">
    <map 
    id="map"
    longitude="{{schoolLocation.longitude}}"
    latitude="{{schoolLocation.latitude}}"
    scale="15"
    style="width: 100%; height: 400px"
    markers="{{markers}}"
    bindmarkertap="onMarkerTap"
    show-location="true"
    enable-scroll="false"
    enable-zoom="false"
  ></map>
  </view>


  <view class="button-grid">
    <view class="button-icon" bindtap="toAbout">
      <image src="cloud://cloud1-4gh72aev1c85874d.636c-cloud1-4gh72aev1c85874d-1360566409/img/info.png" class="icon-lg" />
      <text>校园概况</text>
    </view>
    <view class="button-icon" bindtap="navigateToSchool">
      <image src="cloud://cloud1-4gh72aev1c85874d.636c-cloud1-4gh72aev1c85874d-1360566409/img/navigation.png" class="icon-lg" />
      <text>最近地点</text>
    </view>
    <view class="button-icon" bindtap="toLocations">
      <image src="cloud://cloud1-4gh72aev1c85874d.636c-cloud1-4gh72aev1c85874d-1360566409/img/more.png" class="icon-lg" />
      <text>更多</text>
    </view>
  </view>
</view>